!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=26)}([function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!this._isValidUrl(t))throw new Error("Invalid Url");this.anchorElement=document.createElement("a"),this.anchorElement.href=t}return o(e,[{key:"_isValidUrl",value:function(e){return/^((https|http)?:\/\/|\/\/)/.test(e)}},{key:"_getQueryParamsObject",value:function(){return this.anchorElement.search.replace(/^\?/,"").split("&").reduce(function(e,t){var n=t.split("="),o=r(n,2),i=o[0],a=o[1];return e[i]=a,e},{})}},{key:"_setQueryParam",value:function(e,t){var n=this._getQueryParamsObject();n[e]=t,this.anchorElement.search=this._createSearchQueryFromObject(n)}},{key:"_removeQueryParam",value:function(e){var t=this._getQueryParamsObject();delete t[e],this.anchorElement.search=this._createSearchQueryFromObject(t)}},{key:"_createSearchQueryFromObject",value:function(e){var t="?";return Object.keys(e).forEach(function(n,r,o){t+=n+"="+e[n],r!==o.length-1&&(t+="&")}),t}},{key:"toString",value:function(){return this.anchorElement.toString()}},{key:"hash",get:function(){return this.anchorElement.hash}},{key:"host",get:function(){return this.anchorElement.host}},{key:"hostname",get:function(){return this.anchorElement.hostname}},{key:"href",get:function(){return this.anchorElement.href}},{key:"origin",get:function(){return this.anchorElement.origin}},{key:"password",get:function(){return this.anchorElement.password}},{key:"pathname",get:function(){return this.anchorElement.pathname}},{key:"port",get:function(){return this.anchorElement.port}},{key:"protocol",get:function(){return this.anchorElement.protocol}},{key:"query",get:function(){return this.anchorElement.search}},{key:"queryParams",get:function(){var e=this;return{get:function(){return e._getQueryParamsObject()},set:function(t,n){return e._setQueryParam(t,n)},remove:function(t){return e._removeQueryParam(t)}}}},{key:"username",get:function(){return this.anchorElement.username}}]),e}(),a=n(33);n.d(t,"a",function(){return s});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return u(e,null,[{key:"getUrlParam",value:function(e){return Object(a.b)(e)}},{key:"getPlaybuzzAdsModuleUrl",value:function(){return window.pbAdsSettings&&window.pbAdsSettings.resources?window.pbAdsSettings.resources.playbuzzAdsModule:""}},{key:"getReferrerUrl",value:function(){try{if(!window.utmCookie)return encodeURIComponent(document.location.href);var e=new i(document.location.href);return window.utmCookie.getSource()&&e.queryParams.set("utm_source",window.utmCookie.getSource()),window.utmCookie.getMedium()&&e.queryParams.set("utm_medium",window.utmCookie.getMedium()),window.utmCookie.getTerm()&&e.queryParams.set("utm_term",window.utmCookie.getTerm()),encodeURIComponent(e.toString())}catch(e){return encodeURIComponent(document.location.href)}}},{key:"isProd",get:function(){try{return!0}catch(e){return!0}}},{key:"isEmbed",get:function(){return window!==window.parent}},{key:"pageLoadUid",get:function(){return window.pbPageIdentifier||window.plbzPid}},{key:"parentUrl",get:function(){return document.location.href}},{key:"sessionParentHost",get:function(){return document.location.hostname}}]),e}()},function(e,t,n){"use strict";var r=n(37),o=n(27),i=n(33),a=n(0),u=n(3),s=n(6),c=n(4),l=n(5),d=n(7),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=[],m=!1,p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return f(e,null,[{key:"onModuleDisable",value:function(e){e instanceof Function&&(m?e():h.push(e))}},{key:"disableModule",value:function(){m||(m=!0,l.a.adModuleRejected(),h.forEach(function(e){e()}))}},{key:"detectExecutionInsideAdPlacement",value:function(){return new Promise(function(e){var t=window;do{if((t=t.parent).PlaybuzzAd)return void e(!0)}while(t.parent!==t);e(!1)})}},{key:"_onFetchTemplateSuccess",value:function(e){c.a.sendTemplateReceivedEvent(e),e.template&&d.setTemplateMetadata({id:e.template._id,name:e.template.name}),this._loadModule(e)}},{key:"_onFetchTemplateFailure",value:function(e){c.a.sendTemplateRequestErrorEvent(e),this.disableModule()}},{key:"_loadModule",value:function(e){var t=this;if(e.template||!a.a.isEmbed){var n=a.a.getPlaybuzzAdsModuleUrl();n||this.disableModule(),s.a.load(n).then(function(){window.PlaybuzzAd.module,window.PlaybuzzAd.module.setConfig(e.template),window.PlaybuzzAd.module.provide("anonymousId",function(){return o.a.init(a.a.isProd?"production":"staging",Object(i.b)("pbdebug")),Promise.race([o.a.getAnonymous(),new Promise(function(e,t){return setTimeout(t,2e3)})])})}).catch(function(){t.disableModule()})}else this.disableModule()}},{key:"fetchTemplate",value:function(){var e=this,t=a.a.isProd?"https://ads.playbuzz.com/api/v1/template":"https://stg-ads.playbuzz.com/api/v1/template",n=u.a.itemId,o=a.a.getUrlParam("pbads_preview"),i=t+"?itemId="+n+"&referrer="+a.a.getReferrerUrl();null!==o&&(i+="&pbads_template="+o),u.a.isSponsored&&(i+="&sponsored=true"),c.a.sendTemplateRequestEvent(),r.a.get(i,{credentials:"include"}).then(this._onFetchTemplateSuccess.bind(this)).catch(function(t){e._onFetchTemplateFailure("exception in template request - "+t.message+" ")})}},{key:"handleAdBlockDetection",value:function(){c.a.sendAdblockDetectionEvent(),l.a.adsBlocked()}},{key:"isEmbeddedInNonFriendlyIframe",value:function(){return"www.playbuzz.com"===window.location.hostname&&window!==window.top}},{key:"isShownAsFeed",value:function(){var e=window.location.hostname.indexOf("playbuzz.com")>-1,t="true"===a.a.getUrlParam("feed");return!a.a.isEmbed&&e&&t}}]),e}();t.a=p},function(e,t,n){"use strict";var r={ENDPOINTS:{LOCAL:{ANONYMOUS:"https://staging-datacollection.playbuzz.com/PB-BD-Kinesis-Producer/",AUTHENTICATED:"https://staging-datacollection.playbuzz.com/PB-BD-Kinesis-Producer/"},DEV:{ANONYMOUS:"https://prd-collector-anon.playbuzz.com/main/events",AUTHENTICATED:"https://prd-collector-auth.playbuzz.com/main/events"},PROD:{ANONYMOUS:"https://prd-collector-anon.playbuzz.com/main/events",AUTHENTICATED:"https://prd-collector-auth.playbuzz.com/main/events"}}},o=n(35),i=n(37),a=n(34);function u(){return a.a.deltaFromDomLoadedInSeconds()}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.env,r=t.requiredAttributesGroups,i=void 0===r?{}:r,a=t.interval,u=void 0===a?1e3:a,s=t.onSuccess,c=void 0===s?null:s,l=t.reportCondition,d=void 0===l?null:l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options={env:n,requiredAttributesGroups:i,interval:u,onSuccess:c,reportCondition:d},this.isUserAuthenticated=!0,this._workerInterval=null,this._globalAttributes={},this._eventsQueue=[],this._logger=new o.a({prefix:"Analytics Reporter"}),this._worker=this._worker.bind(this)}return s(e,[{key:"setAnonymous",value:function(){this.isUserAuthenticated=!1}},{key:"addGlobalAttributes",value:function(e){Object.assign(this._globalAttributes,e)}},{key:"report",value:function(e,t){var n=this;return new Promise(function(r,o){if(n._options.reportCondition&&!n._options.reportCondition(e,t))return n._logger.error("Report failed. Condition is not fulfilled.",e,t),void o();if(!e.name)return n._logger.error("Report failed. Event name is missing.",e),void o();var i=Object.assign({},n._globalAttributes,t,{deltaTime:u(),eventName:e.name}),a=n._getMissingAttributes(e,i);if(a.length>0)return n._logger.error(e.name+" failed. Required attributes missing:",a),void o();n._eventsQueue.push({data:i,deferred:{resolve:r,reject:o}}),n._logger.debug("Event queued: "+i.eventName),null===n._workerInterval&&(n._logger.debug("Waking up worker..."),n._workerInterval=setInterval(n._worker,n._options.interval))})}},{key:"_worker",value:function(){if(this._logger.debug("Worker is checking for events..."),0===this._eventsQueue.length)return this._logger.debug("No events in queue. Worker going to sleep."),clearInterval(this._workerInterval),void(this._workerInterval=null);var e=this._eventsQueue.splice(0),t={deltaTime:u(),events:e.map(function(e){return e.data})};Object.assign(t,this._globalAttributes),this._send(t).then(function(t){e.forEach(function(e){e.deferred.resolve(t)})},function(t){e.forEach(function(e){e.deferred.reject(t)})})}},{key:"_send",value:function(e){var t=this;return this._logger.debug("Sending "+e.events.length+" events..."),i.a.post(this.analyticsEndpoint,e,{headers:{"Content-Type":"text/plain;charset=UTF-8"}}).then(function(n){return t._logger.debug("Sent successfully "+e.events.length+" events."),t._options.onSuccess&&t._options.onSuccess(e),n}).catch(function(n){throw t._logger.error("Failed to send "+e.events.length+" events. Error was:",n),n})}},{key:"_getMissingAttributes",value:function(e,t){var n=this,r=(e.requiredAttributes||[]).map(function(e){var t=e.match(/^@(.*)/);if(t){var r=t[1],o=n._options.requiredAttributesGroups[r];return o||n._logger.error("Required attributes group not found:",r),o}return e}).reduce(function(e,t){return e.concat(t)},[]).filter(Boolean),o=Object.keys(t).filter(function(e){return void 0!==t[e]});return r.filter(function(e){return-1===o.indexOf(e)})}},{key:"analyticsEndpoint",get:function(){var e=r.ENDPOINTS[this._options.env];return this.isUserAuthenticated?e.AUTHENTICATED:e.ANONYMOUS}}]),e}();var l=n(27),d=n(3),f=void 0,h={MOBILE:"mobile",TABLET:"tablet",DESKTOP:"desktop",OTHER:"other"};var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var p=new(function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=window.pbDeviceInfo,f=t}return m(e,[{key:"isDesktop",get:function(){return f.platform===h.DESKTOP}}]),e}()),v=n(0),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);this.analyticsReporter=new c({env:"PROD"}),this.analyticsReporter.addGlobalAttributes({pageloadUid:function(){var e=window.plbzPid||window.pbPageIdentifier;if(!e)throw new Error("Page id is empty");return e}(),articleId:d.a.itemId,adDeviceType:p.isDesktop?"desktop":"mobile"}),this._setAnonIfNeeded()}return y(e,[{key:"report",value:function(e,t){Promise.resolve(this.analyticsReporter.report(e,t))}},{key:"_setAnonIfNeeded",value:function(){var e=this;v.a.isEmbed?this.analyticsReporter.setAnonymous():l.a.isLoggedIn().then(function(t){t||e.analyticsReporter.setAnonymous()})}}]),e}();t.a=new g},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=window.pbItem||""}return r(e,[{key:"itemId",get:function(){return this.item?this.item.id:""}},{key:"isSponsored",get:function(){return this.item?this.item.sponsored&&this.item.sponsored.enabled:""}}]),e}();t.a=new o},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(2),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"sendCoreInitEvent",value:function(){r.a.report({name:"ad_module_core_init"},{})}},{key:"sendAdblockDetectionEvent",value:function(){r.a.report({name:"ad_blocked"},{})}},{key:"sendTemplateRequestEvent",value:function(){r.a.report({name:"ads_template_request"},{})}},{key:"sendTemplateReceivedEvent",value:function(e){var t={extraData:{templateMessage:e.message,templateInd:e.template?1:0}};r.a.report({name:"ads_template_received"},t)}},{key:"sendTemplateRequestErrorEvent",value:function(e){var t={adErrorDescription:e||"no error message"};r.a.report({name:"ads_template_request_error"},t)}}]),e}()},function(e,t,n){"use strict";var r=n(0),o=n(3),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u="playbuzz_ads",s={sessionParentHost:1,parentUrl:2,articleId:3,monetizationPath:4,environment:5,pageReferrer:6,pageloadUid:7,particleAbove:8,particleBelow:9},c={ad_error:1,ad_module_rejected:2,ad_blocked:3,ad_impression:4,ad_request:5,ad_invoke:6,ad_module_loaded:7,ad_enabled:8,ad_started:9,ad_completed:10,ad_action:11,ad_progess:12},l=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),window.GoogleAnalyticsObject&&"function"==typeof window[window.GoogleAnalyticsObject]||this._init("ga"),this._trackerName=n,this._initPromise=new Promise(function(e){var t=document.readyState;"complete"===t||"interactive"===t?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)}),this._initPromise.then(function(){r._createTracker(t),r._setConstantDimenstions()})}return i(e,[{key:"setMonetizationPath",value:function(e){this._ga("set","dimenstion"+s.monetizationPath,e)}},{key:"adModuleLoaded",value:function(){this._sendEvent("ad_module_loaded",a({},"metric"+c.ad_module_loaded,1))}},{key:"adModuleRejected",value:function(){this._sendEvent("ad_module_rejected",a({},"metric"+c.ad_module_rejected,1))}},{key:"adsBlocked",value:function(){this._sendEvent("ad_blocked",a({},"metric"+c.ad_blocked,1))}},{key:"adError",value:function(e){var t=Object.assign(a({},"metric"+c.ad_error,1),this._getEventDimensions(e));this._sendEvent("ad_error",t)}},{key:"adEnabled",value:function(e){var t=Object.assign(a({},"metric"+c.ad_enabled,1),this._getEventDimensions(e));this._sendEvent("ad_enabled",t)}},{key:"adInvoke",value:function(e){var t=Object.assign(a({},"metric"+c.ad_invoke,1),this._getEventDimensions(e));this._sendEvent("ad_invoke",t)}},{key:"adRequest",value:function(e){var t=Object.assign(a({},"metric"+c.ad_request,1),this._getEventDimensions(e));this._sendEvent("ad_request",t)}},{key:"adStarted",value:function(e){var t=Object.assign(a({},"metric"+c.ad_started,1),this._getEventDimensions(e));this._sendEvent("ad_started",t)}},{key:"adImpression",value:function(e){var t=Object.assign(a({},"metric"+c.ad_impression,1),this._getEventDimensions(e));this._sendEvent("ad_impression",t)}},{key:"adProgress",value:function(e){var t=Object.assign(a({},"metric"+c.ad_progress,1),this._getEventDimensions(e));this._sendEvent("ad_progress",t)}},{key:"adAction",value:function(e){var t=Object.assign(a({},"metric"+c.ad_action,1),this._getEventDimensions(e));this._sendEvent("ad_action",t)}},{key:"adCompleted",value:function(e){var t=Object.assign(a({},"metric"+c.ad_completed,1),this._getEventDimensions(e));this._sendEvent("ad_completed",t)}},{key:"_ga",value:function(e){for(var t=this,n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this._initPromise.then(function(){window[window.GoogleAnalyticsObject].apply(void 0,[t._trackerName+"."+e].concat(r))})}},{key:"_sendEvent",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._ga.apply(this,["send","event",u].concat(t))}},{key:"_createTracker",value:function(e){(0,window[window.GoogleAnalyticsObject])("create",e,{name:this._trackerName})}},{key:"_setConstantDimenstions",value:function(){this._ga("set","dimension"+s.environment,r.a.isProd?"production":"staging"),this._ga("set","dimension"+s.pageloadUid,r.a.pageLoadUid),this._ga("set","dimension"+s.sessionParentHost,r.a.sessionParentHost),this._ga("set","dimension"+s.parentUrl,r.a.parentUrl),this._ga("set","dimension"+s.pageReferrer,r.a.getReferrerUrl()),this._ga("set","dimension"+s.articleId,o.a.itemId)}},{key:"_getEventDimensions",value:function(e){return Object.keys(e||{}).reduce(function(t,n){var r=e[n];return"number"==typeof s[n]&&void 0!==r&&null!==r&&(t["dimension"+s[n]]=r),t},{})}},{key:"_init",value:function(e){window.GoogleAnalyticsObject=e,window[e]=window[e]||function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=window[e];o.q=o.q||[],o.q.push(n)},window[e].l=Date.now();var t=document.scripts.length>0?document.scripts[0].parentNode:document.head,n=document.createElement("script");n.src="https://www.google-analytics.com/analytics.js",n.async=!0,t.insertBefore(n,document.scripts[0])}}]),e}();t.a=new l("UA-34510589-32","playbuzzAds")},function(e,t,n){"use strict";var r={};n.d(t,"a",function(){return i});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,null,[{key:"load",value:function(e){return function(e){var t=e.src,n=e.isHeadScript,o=void 0!==n&&n,i=e.async,a=void 0!==i&&i,u=e.defer,s=void 0!==u&&u,c=e.customAttributes,l=void 0===c?{}:c;return new Promise(function(e,n){if(r[t])return r[t].then(e).catch(n);var i=document.createElement("script");i.type="text/javascript",i.src=t,i.async=a,i.defer=s,Object.keys(l).forEach(function(e){i.setAttribute(e,l[e])}),o?document.head.appendChild(i):document.body.appendChild(i);var u=new Promise(function(e,t){i.onload=function(){return e()},i.onerror=function(){return t()}});return r[t]=u,u.then(e).catch(n)})}({src:e})}}]),e}()},function(e,t,n){"use strict";n.r(t),n.d(t,"setTemplateMetadata",function(){return o}),n.d(t,"setAbTestMetadata",function(){return i}),n.d(t,"getMetadata",function(){return a});var r={templateId:null,templateName:null,abTestName:null};function o(e){var t=e.id,n=void 0===t?null:t,o=e.name,i=void 0===o?null:o;r.templateId=n,r.templateName=i}function i(e){var t=e.abTestName,n=void 0===t?null:t;r.abTestName=n}function a(){return r}},function(e,t,n){"use strict";t.a=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})}},,function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(){for(var e=window;e.frameElement;)e=e.parent;return e}n.d(t,"a",function(){return r})},,function(e,t,n){"use strict";n.r(t);var r="function"==typeof fetch?fetch.bind():function(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest;for(var i in o.open(t.method||"get",e),t.headers)o.setRequestHeader(i,t.headers[i]);function a(){var e,t=[],n=[],r={};return o.getAllResponseHeaders().replace(/^(.*?):\s*([\s\S]*?)$/gm,function(o,i,a){t.push(i=i.toLowerCase()),n.push([i,a]),e=r[i],r[i]=e?e+","+a:a}),{ok:1==(o.status/200|0),status:o.status,statusText:o.statusText,url:o.responseURL,clone:a,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(o.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([o.response]))},headers:{keys:function(){return t},entries:function(){return n},get:function(e){return r[e.toLowerCase()]},has:function(e){return e.toLowerCase()in r}}}}o.withCredentials="include"==t.credentials,o.onload=function(){n(a())},o.onerror=r,o.send(t.body)})};t.default=r},function(e,t,n){"use strict";(function(e){var r=n(8),o=setTimeout;function i(){}function a(e){if(!(this instanceof a))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(e,this)}function u(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,a._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void c(t.promise,e)}s(t.promise,r)}else(1===e._state?s:c)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof a)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void d((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,l(e)}catch(t){c(e,t)}var r,o}function c(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&a._immediateFn(function(){e._handled||a._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)u(e,e._deferreds[t]);e._deferreds=null}function d(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,c(t,e))})}catch(e){if(n)return;n=!0,c(t,e)}}a.prototype.catch=function(e){return this.then(null,e)},a.prototype.then=function(e,t){var n=new this.constructor(i);return u(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},a.prototype.finally=r.a,a.all=function(e){return new a(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var o=r.length;function i(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(t){i(e,t)},n)}r[e]=a,0==--o&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)i(a,r[a])})},a.resolve=function(e){return e&&"object"==typeof e&&e.constructor===a?e:new a(function(t){t(e)})},a.reject=function(e){return new a(function(t,n){n(e)})},a.race=function(e){return new a(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},a._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){o(e,0)},a._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},t.a=a}).call(this,n(24).setImmediate)},function(e,t,n){"use strict";n.r(t);n(25),n(21),n(20);var r=n(6),o=n(1),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,null,[{key:"isAdBlockDetected",value:function(){return new Promise(function(e){r.a.load("https://mcd-sdk.playbuzz.com/adwords.js").then(function(){e(!1)}).catch(function(){o.a.disableModule(),e(!0)})})}}]),e}(),u=n(4);window.PlaybuzzAd||(o.a.detectExecutionInsideAdPlacement().then(function(e){e&&o.a.disableModule()}),(o.a.isEmbeddedInNonFriendlyIframe()||o.a.isShownAsFeed())&&o.a.disableModule(),u.a.sendCoreInitEvent(),a.isAdBlockDetected().then(function(e){e?o.a.handleAdBlockDetection():o.a.fetchTemplate()}))},function(e,t,n){"use strict";n.r(t);var r=n(2),o=n(1),i=n(5),a=n(7),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();if(!window.PlaybuzzAd){var s=function(){function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c&&(this.adFromModule=l),t.seed||(t.seed=Math.round(1e8*Math.random())),this.placementConfig=t,e.module)this.adFromModule=e.module.createAd(t);else{this.hashKey=t.section+"__"+t.position+"__"+t.index+"__"+t.seed,e.deferredAds=e.deferredAds||{};var r={placementConfig:t};r.showPromise=new Promise(function(e){n._resolveShow=e}),this._completePromise=new Promise(function(e){r.completionResolver=e}),e.deferredAds[this.hashKey]=r}}return u(e,[{key:"show",value:function(){return this.adFromModule?this.adFromModule.show():(this._resolveShow(),this._completePromise)}},{key:"update",value:function(t){this.adFromModule?this.adFromModule.update(t):e.deferredAds[this.hashKey].onUpdate&&e.deferredAds[this.hashKey].onUpdate(t)}}],[{key:"analyticsReporterService",get:function(){return r.a}}]),e}(),c=!1,l={show:function(){return Promise.resolve()},update:function(){}};o.a.onModuleDisable(function(){c=!0,s&&s.deferredAds&&Object.keys(s.deferredAds).forEach(function(e){s.deferredAds[e].completionResolver()})}),s.metadata=a,window.PlaybuzzAd=s,window.PlaybuzzAd.GAService=i.a}},,,,function(e,t,n){window.fetch||(window.fetch=n(13).default||n(13))},function(e,t,n){var r;!function e(t,n,o){function i(u,s){if(!n[u]){if(!t[u]){if(!s&&("function"==typeof r&&r))return r(u,!0);if(a)return a(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[u]={exports:{}};t[u][0].call(l.exports,function(e){var n=t[u][1][e];return i(n||e)},l,l.exports,e,t,n,o)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<o.length;u++)i(o[u]);return i}({1:[function(e,t,n){"use strict";e("./index").polyfill()},{"./index":2}],2:[function(e,t,n){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(void 0!==o&&null!==o)for(var i=Object.keys(Object(o)),a=0,u=i.length;a<u;a++){var s=i[a],c=Object.getOwnPropertyDescriptor(o,s);void 0!==c&&c.enumerable&&(n[s]=o[s])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},{}]},{},[1])},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,d=-1;function f(){l&&s&&(l=!1,s.length?c=s.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=u(f);l=!0;for(var t=c.length;t;){for(s=c,c=[];++d<t;)s&&s[d].run();d=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||l||u(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,u,s=1,c={},l=!1,d=e.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(e);f=f&&f.setTimeout?f:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){m(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){m(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){m(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(m,0,e)}:(a="setImmediate$"+Math.random()+"$",u=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&m(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",u,!1):e.attachEvent("onmessage",u),r=function(t){e.postMessage(a+t,"*")}),f.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[s]=o,r(s),s++},f.clearImmediate=h}function h(e){delete c[e]}function m(e){if(l)setTimeout(m,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(10),n(22))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(23),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(10))},function(e,t,n){"use strict";(function(e){var t=n(14),r=n(8),o=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==e)return e;throw new Error("unable to locate global object")}();o.Promise?o.Promise.prototype.finally||(o.Promise.prototype.finally=r.a):o.Promise=t.a}).call(this,n(10))},function(e,t,n){n(15),e.exports=n(16)},function(e,t,n){"use strict";var r=n(35),o=new r.a({prefix:"LocalStorageService"}),i=function(e){if(!e)return null;try{return JSON.parse(localStorage.getItem(e))}catch(e){return o.error(e.message),null}},a=function(e){try{return localStorage.removeItem(e),!0}catch(e){return o.error(e.message),!1}},u={get:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.vEnd,o=void 0===r?null:r,i=n.sPath,a=void 0===i?"":i,u=n.sDomain,s=void 0===u?"":u,c=n.bSecure,l=void 0===c?"":c;if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var d="";if(o)switch(o.constructor){default:case Number:d=o===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+o;break;case String:d="; expires="+o;break;case Date:d="; expires="+o.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+d+(s?"; domain="+s:"")+(a?"; path="+a:"")+(l?"; secure":""),!0},remove:function(e,t){var n=t.path,r=t.domain;return!!this.has(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(r?"; domain="+r:"")+(n?"; path="+n:""),!0)},has:function(e){return!(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)}},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.iframePath="https:"+t.replace(/^https?:/i,""),this._namespace=n||"xdsc",this._iframeReady=!1,this._callbacks=[],this._failureCallbacks=[],this._xdomainCookieData={},this._id=(new Date).getTime(),this._defaultExpiresDays=30,this._debug=!!o,this._logger=new r.a({prefix:"XDOMAIN PAGE"}),this.createIframe=this.createIframe.bind(this),this.onIncomingMessage=this.onIncomingMessage.bind(this),this.firePendingCallbacks=this.firePendingCallbacks.bind(this),this.firePendingFailureCallbacks=this.firePendingFailureCallbacks.bind(this),this.sendDataToIframe=this.sendDataToIframe.bind(this),this.set=this.set.bind(this),this.get=this.get.bind(this),this.createIframe(),window.addEventListener("message",this.onIncomingMessage)}return c(e,[{key:"createIframe",value:function(){var e=document.createElement("iframe");e.style.display="none",e.id="xdomain_cookie_"+this._id;var t=void 0;try{t=window.parent.location.origin}catch(e){}t||(t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));var n={namespace:this._namespace,window_origin:t,iframe_origin:this.iframePath,debug:this._debug};e.src=this.iframePath+"/xdomain_cookie.html#"+encodeURIComponent(JSON.stringify(n)),document.body.appendChild(e),this._log("creating iframe",e.src)}},{key:"_log",value:function(){var e;this._debug&&(e=this._logger).log.apply(e,arguments)}},{key:"onIncomingMessage",value:function(e){var t=e.origin||e.originalEvent.origin;if(this.iframePath.substr(0,t.length)===t&&"string"==typeof e.data){var n=null;try{n=JSON.parse(e.data)}catch(e){}!n||"object"!==(void 0===n?"undefined":s(n))||n instanceof Array||"namespace"in n&&n.namespace===this._namespace&&"msg_type"in n&&("xdsc_read"===n.msg_type?(this._log("got data from iframe:",n.cookies),this._xdomainCookieData=n.cookies,this._iframeReady=!0,this.firePendingCallbacks()):"xdsc_fail"===n.msg_type&&(this._log("got failure from iframe"),this.firePendingFailureCallbacks(n.cookie_failed,n.local_storage_failed)))}}},{key:"firePendingCallbacks",value:function(){if(this._iframeReady)for(;this._callbacks.length>0;)this._callbacks.pop()()}},{key:"firePendingFailureCallbacks",value:function(e,t){for(;this._failureCallbacks.length>0;)this._failureCallbacks.pop()(e,t)}},{key:"sendDataToIframe",value:function(e,t,n){var r={namespace:this._namespace,msg_type:"xdsc_write",cookie_name:e,cookie_val:t,expires_days:n};this._log("sending cookie to iframe:",e,t,n),document.getElementById("xdomain_cookie_"+this._id).contentWindow.postMessage(JSON.stringify(r),this.iframePath)}},{key:"set",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._defaultExpiresDays;if(this._iframeReady){var o=null===t||void 0===t?-100:r;this.sendDataToIframe(e,t,o),this._xdomainCookieData[e]=t}else this._callbacks.push(function(){n.set(e,t,r)})}},{key:"get",value:function(e,t){var n=this;this._log("got request for a cookie:",e);this._callbacks.push(function(){var r,o,i=e in n._xdomainCookieData?n._xdomainCookieData[e]:null;r=i,o=t,n._log("returning response for cookie: ",e,r),"function"==typeof o&&o(r)}),this.firePendingCallbacks()}}]),e}(),d={local:"//alpha.playbuzz.com",staging:"//alpha.playbuzz.com",production:"//www.playbuzz.com"},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return f(e,[{key:"init",value:function(t,n){var r=this;if(!t)throw new Error("[PlaybuzzUserCookieProvider] Missing playbuzzHomeUrl");this.xdomainCookieProvider=new l(t,"",n),this.authenticatedCookie=void 0,this.anonymousCookie=void 0,this.xdomainCookieProvider.get("playbuzz",function(e){if(e){var t=JSON.parse(e);if("Anonymous"===t.origin||"Anonymous_user"===t.nickname)return r.xdomainCookieProvider.set("playbuzz",null),void(r.authenticatedCookie=null);r.authenticatedCookie=t}else r.authenticatedCookie=e}),this.xdomainCookieProvider.get("pb-tracking-id",function(t){null===t?(r.anonymousCookie=e.generateAnonymousId(),r.xdomainCookieProvider.set("pb-tracking-id",r.anonymousCookie,30)):r.anonymousCookie=t}),this.getAuthenticated=this.getAuthenticated.bind(this),this.getAnonymous=this.getAnonymous.bind(this)}},{key:"getAuthenticated",value:function(e){var t=this;if(void 0===this.authenticatedCookie)var n=setInterval(function(){void 0!==t.authenticatedCookie&&(clearInterval(n),e(t.authenticatedCookie))},200);else e(this.authenticatedCookie)}},{key:"getAnonymous",value:function(e){var t=this;if(void 0===this.anonymousCookie)var n=setInterval(function(){void 0!==t.anonymousCookie&&(clearInterval(n),e(t.anonymousCookie))},200);else e(this.anonymousCookie)}}],[{key:"generateAnonymousId",value:function(){return Math.random().toString(36).substr(2,8)+Math.random().toString(36).substr(2,8)}}]),e}()),m=n(33);n.d(t,"a",function(){return y});var p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v=function(){return-1===Object(m.a)(Object(m.c)()).indexOf("playbuzz.com")},y={init:function(e,t){var n=d[e];!n&&Object.keys(d).map(function(e){return d[e]}).indexOf(e)>=0&&(n=e),h.init(n,t)},getAuthenticated:function(){var e=y._getLocalAuthenticated();return y._isValidObject(e)?Promise.resolve(e):y._getAuthenticatedCrossDomainValue()},getAnonymous:function(){var e=y._getLocalAnonymous();return y._isValidString(e)?Promise.resolve(e):y._getAnonymousCrossDomainValue()},isLoggedIn:function(){return y.getAuthenticated().then(y._isValidObject)},_getAuthenticatedCrossDomainValue:function(){return new Promise(function(e){return v()?(h.getAuthenticated(e),!0):e(null)})},_getAnonymousCrossDomainValue:function(){return new Promise(function(e){if(!v())throw new Error("pb-tracking-id is missing!");h.getAnonymous(e)})},remove:function(){y._removeLocalValue("playbuzz")},_getLocalAuthenticated:function(){var e=u.get("playbuzz");return e=y._parseJson(e),y._isValidObject(e)?e:localStorage&&(e=i("playbuzz")||{},y._isValidObject(e))?e:{}},_getLocalAnonymous:function(){var e=u.get("pb-tracking-id");return y._isValidString(e)?e:localStorage&&(e=i("pb-tracking-id"),y._isValidString(e))?e:{}},_removeLocalValue:function(e){u.remove(e,{domain:".playbuzz.com",path:"/"}),a(e)},_parseJson:function(e){if(null===e||void 0===e)return{};try{return JSON.parse(e)}catch(e){return{}}},_isValidObject:function(e){return null!==e&&"object"===(void 0===e?"undefined":p(e))&&Object.getOwnPropertyNames(e).length>0},_isValidString:function(e){return"string"==typeof e}}},,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return c});var r=n(11),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=/^(?:https?:\/\/)?(?:[^@\n]+@)?(?:www\.)?([^:/\n?=]+)/im,a=/^(www.)(.*)$/;function u(e){if(!function(e){return/^(https?:|ftp)/i.test(e)}(e))return e;var t=void 0,n=e.match(i);n&&((n=(t=o(n,2)[1]).match(a))&&(t=o(n,2)[1]));return t}function s(){return Object(r.a)().location.href}function c(e){var t=window.location.href,n=new RegExp("[?&]"+e+"=([^&#]*)","i").exec(t);return n?n[1]:null}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(11),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return o(e,[{key:"start",value:function(){this.startTime=window.performance.now()}},{key:"delta",value:function(){return window.performance.now()-this.startTime}}],[{key:"deltaFromDomLoaded",value:function(){var e=Object(r.a)(),t=e.performance.timing.domLoading-e.performance.timing.navigationStart;return e.performance.now()-t}},{key:"deltaFromDomLoadedInSeconds",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).precision,n=void 0===t?2:t;return(e.deltaFromDomLoaded()/1e3).toFixed(n)}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(34),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"":n,o=t.isDebug,i=void 0!==o&&o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._prefix=r,this.isDebug=i}return o(e,[{key:"debug",value:function(){if(this.isDebug){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["log"].concat(t))}}},{key:"info",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["info"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["warn"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log.apply(this,["error"].concat(t))}},{key:"_log",value:function(e){var t;if("undefined"!=typeof window){for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console)[e].apply(t,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(this._format.apply(this,r)))}}},{key:"_format",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=[].slice.call(t);return o.unshift("["+r.a.deltaFromDomLoadedInSeconds()+"s] ["+this._prefix+"]:"),o}}]),e}()},,function(e,t,n){"use strict";function r(e,t,n,r){return n.method=e,n.headers=n.headers||{},-1!==["POST","PUT","PATCH"].indexOf(e)&&(n.headers=Object.assign({Accept:"application/json","Content-Type":"application/json"},n.headers)),r&&(n.body=JSON.stringify(r)),fetch(t,n).then(function(e){if(e.status>=200&&e.status<300)return function(e){var t=e.headers.get("content-type");return t?t.indexOf("json")>=0?e.json():t.indexOf("text")>=0?e.text():e:e}(e);var t=new Error(e.statusText);throw t.response=e,t})}n.d(t,"a",function(){return o});var o={get:function(e){return r("GET",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},post:function(e,t){return r("POST",e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t)},put:function(e,t){return r("PUT",e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t)},patch:function(e,t){return r("PATCH",e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t)},delete:function(e){return r("DELETE",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},head:function(e){return r("HEAD",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}}]);
//# sourceMappingURL=playbuzz-ads-core.min.js.map